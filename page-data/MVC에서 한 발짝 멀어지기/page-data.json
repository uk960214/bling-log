{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/MVC에서 한 발짝 멀어지기/",
    "result": {"data":{"site":{"siteMetadata":{"title":"✨ bling-log ✨"}},"markdownRemark":{"id":"2d6bff74-248e-5895-aa0b-70c7ad0ff7e6","excerpt":"컨트롤러를 없애고 요청 처리 클래스로 기존의 MVC 패턴에서 한 발 멀어져서 컨트롤러의 역할을 축소하는 데에 집중했다. Step…","html":"<h2>컨트롤러를 없애고 요청 처리 클래스로</h2>\n<p>기존의 MVC 패턴에서 한 발 멀어져서 컨트롤러의 역할을 축소하는 데에 집중했다. Step 1에서 컨트롤러가 사실상 이벤트 핸들러만 포함하고 있었는데 역할이나 존재 이유가 불분명했기 때문이다.</p>\n<p>이에 대한 해결책을 찾기 위해 뷰와 모델의 연결에 집중해서 고민했다.</p>\n<p>핵심 기능인 로또 구매와 당첨번호 확인은 그 작업의 흐름이 생각보다 단순했다. 구조를 단순화 하면 뷰가 모델에 올바른 요청을 보내고 모델이 생성된 값을 뷰에 반환해주면 되는 구조였다.</p>\n<p>그래서 뷰와 모델은 앱 자체에서 인스턴스를 생성하고 그 둘 사이의 요청 - 반환을 처리할 요청 처리기 클래스를 만들어 그 요청을 처리하도록 했다. 그 핵심 구조의 요약은 아래와 같다.</p>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/c958d4c51b49d98b4a7e5578977086a8/2966a/%EC%95%B1%EC%9D%98%20%ED%95%B5%EC%8B%AC%20%EA%B5%AC%EC%A1%B0.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 54.43037974683544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACG0lEQVQoz22TW09TQRSF+8t5MfFB4oMvvgkYL4CJGo0PJkaQCCpYBBQoFFqglF5se+Zc58ycuXzaU4nFOMlK9uxM1p6991oVAM/UcR6cm2DqeO9LTGWm8Jel4q0GCpL2Oe3NzxStJqp1gbpskasci8d5M1WvzJR19RgOlPUlxvUqvsjKh9HVJZ2tL5jtDeL1NfROFZWnxEXEQJ1SG3ykLj7RVUfkJkQoy6EoOE0dzYwS2nkqmLwkNKEgb56QLs1xdWeGbPEByIRUBXSz71Q7r9hqv+Q8rZKqPt0oZKvVZWeQcTDy1IQrf1sxeVp2b4IR2ckx0Yun9O7PEj1/AsZSoAl0m9j2SgRFG+NThspzEMSs1RQL74a8+ZajLFRiMcI4hxcCe1InfvaQ/r3bxMsLoDXaq5IwMn1i2y/jwieMpOPr5ZCNhuJ1NWH1SE8IsZOWESM4PSRaXuDi7i3E0jzICGXGM2xwFm7TCKr0VJ3cCAJlOR6GrByGPH7f5e1eOiH0erIU1W0j9nYIlue5mJ1BLM5R5Bmh/ElH7rJ+vsTK0SOayWY5w44QbDR71BLLmYLG9VImsrEEjTr1D6ukx/vIH7vI2j55LjE4Ci+J8wCRDsrYYcm0RWhHIA0jWRAbsH5MeK0vXYCUyMEQHYag1A1xW+MwhZ10k6foZFDGYTBCZum1+qnwjwPGC7J/7v6/DoFYpgyTAGfdTSf9dsovxaxAfUMSzlkAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"앱의 핵심 구조\" title=\"앱의 핵심 구조\" src=\"/static/c958d4c51b49d98b4a7e5578977086a8/f058b/%EC%95%B1%EC%9D%98%20%ED%95%B5%EC%8B%AC%20%EA%B5%AC%EC%A1%B0.png\" srcset=\"/static/c958d4c51b49d98b4a7e5578977086a8/c26ae/%EC%95%B1%EC%9D%98%20%ED%95%B5%EC%8B%AC%20%EA%B5%AC%EC%A1%B0.png 158w,\n/static/c958d4c51b49d98b4a7e5578977086a8/6bdcf/%EC%95%B1%EC%9D%98%20%ED%95%B5%EC%8B%AC%20%EA%B5%AC%EC%A1%B0.png 315w,\n/static/c958d4c51b49d98b4a7e5578977086a8/f058b/%EC%95%B1%EC%9D%98%20%ED%95%B5%EC%8B%AC%20%EA%B5%AC%EC%A1%B0.png 630w,\n/static/c958d4c51b49d98b4a7e5578977086a8/40601/%EC%95%B1%EC%9D%98%20%ED%95%B5%EC%8B%AC%20%EA%B5%AC%EC%A1%B0.png 945w,\n/static/c958d4c51b49d98b4a7e5578977086a8/78612/%EC%95%B1%EC%9D%98%20%ED%95%B5%EC%8B%AC%20%EA%B5%AC%EC%A1%B0.png 1260w,\n/static/c958d4c51b49d98b4a7e5578977086a8/2966a/%EC%95%B1%EC%9D%98%20%ED%95%B5%EC%8B%AC%20%EA%B5%AC%EC%A1%B0.png 5711w\" sizes=\"(max-width: 630px) 100vw, 630px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n  </a>\n    </span>\n<h2>모델 → 머신, 로또 모델의 삭제</h2>\n<p>로또를 별도의 클래스로 관리할 이유가 없다는 생각이 들었다. 결국 기존의 코드에서 로또 객체는 임의 생성된 set에 불과했고 어차피 생성된 로또의 배열은 로또 매니저에서 관리하고 있었다. 그래서 과감하게 로또를 삭제하고 기존의 모델 매니저는 로또를 생성하고 당첨 번호와 비교해 계산해주는 기계로 명칭을 변경했다. 로또는 상위 머신에 멤버로 보관하도록 했다.</p>","frontmatter":{"title":"MVC에서 한 발짝 멀어지기","date":"March 04, 2022","description":null}},"previous":{"fields":{"slug":"/자바스크립트 this와 화살표 함수/"},"frontmatter":{"title":"자바스크립트 this와 화살표 함수"}},"next":{"fields":{"slug":"/innerHTML은 쓰기 싫지만 선언형으로 쓰고 싶어/"},"frontmatter":{"title":"innerHTML은 쓰기 싫지만 선언형으로 쓰고 싶어"}}},"pageContext":{"id":"2d6bff74-248e-5895-aa0b-70c7ad0ff7e6","previousPostId":"aa96ea28-82dd-51d1-82d8-e56b9c248480","nextPostId":"deeaa7bb-7602-5ce3-ac9c-2ff6219140a3"}},
    "staticQueryHashes": ["2841359383","3257411868"]}